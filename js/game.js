// Generated by CoffeeScript 1.7.1
(function() {
  var FRAMERATE, INTERVAL, addMenus, canvasEdgeX, canvasEdgeY, draw, endGame, gameLoop, gameLoopCounter, levelOver, loopId, menuCode, removeMenus, runLevel, setSizes, startLoop;

  FRAMERATE = 1;

  INTERVAL = 1000 / FRAMERATE;

  canvasEdgeX = $(window).width();

  canvasEdgeY = $(window).height();

  levelOver = false;

  gameLoopCounter = 0;

  menuCode = "<div id='startMenu'> <p>Hello game, this is game.</p> <a href='#' class='menuLinkOne'>Start level one.</a> </div>";

  removeMenus = function() {
    console.log("removeMenus runs");
    if ($("#startMenu").length === 0) {
      console.log("removeMenus warning: no #startMenu to remove");
    }
    if ($("#startMenu").length > 0) {
      return $("#startMenu").remove();
    }
  };

  addMenus = function() {
    console.log("addMenus runs");
    if ($("#startMenu").length > 0) {
      console.log("removeMenus warning: #startMenu already exists");
    }
    if ($("#startMenu").length === 0) {
      $('#menu').append(function() {
        return menuCode;
      });
      return $('.menuLinkOne').on('click', function() {
        return runLevel(100);
      });
    }
  };

  setSizes = function() {
    console.log("setSizes runs");
    canvasEdgeX = $(window).width();
    canvasEdgeY = $(window).height();
    canvas.width = canvasEdgeX;
    return canvas.height = canvasEdgeY;
  };

  loopId = (function(_this) {
    return function() {
      return setInterval(gameLoop, INTERVAL);
    };
  })(this);

  startLoop = function() {
    console.log("startLoop runs");
    return loopId();
  };

  gameLoop = function() {
    if (levelOver === false) {
      gameLoopCounter += 1;
      console.log("gameLoop is active");
      console.log("gameLoopCounter =", gameLoopCounter);
      draw();
      if (gameLoopCounter >= 3) {
        levelOver = true;
      }
      if (levelOver === true) {
        return endGame();
      }
    }
  };

  endGame = function() {
    console.log("endGame runs");
    return addMenus();
  };

  runLevel = function(levelName) {
    var canvas;
    console.log("runLevel runs level:", levelName);
    gameLoopCounter = 0;
    console.log("runLevel sets gameLoopCounter to", gameLoopCounter);
    canvas = document.getElementById("canvas");
    console.log("runLevel creates new canvas:", canvas);
    setSizes();
    removeMenus();
    if (levelOver === false) {
      startLoop();
    }
    return levelOver = false;
  };

  draw = function() {
    return console.log("draw runs");
  };

  jQuery(function() {
    setSizes();
    return addMenus();
  });

}).call(this);
